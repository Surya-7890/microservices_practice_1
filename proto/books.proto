syntax = "proto3";

package book_store.books_service;

import "books_messages.proto";
import "google/api/annotations.proto";
import "protoc-gen-openapiv2/options/annotations.proto";

option go_package = "github.com/Surya-7890/book_store/proto/gen";

service Books {
    rpc GetCategories(GetCategoriesRequest) returns (GetCategoriesResponse) {
        option(google.api.http) = {
            get: "/v1/categories/{id}";
        };
        option(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
            summary: "Get Categories.";
            description: "Returns all different categories in the book store.";
            tags: "Books.";
        };
    } 

    rpc UpdateCategories(UpdateCategoriesRequest) returns (UpdateCategoriesResponse) {
        option(google.api.http) = {
            post: "/v1/categories";
            body: "*";
        };
        option(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
            summary: "Update Category.";
            description: "Updates a particular category in the book store.";
            tags: "Books.";
        };
    }

    rpc GetBooks(GetBooksRequest) returns (GetBooksResponse) {
        option(google.api.http) = {
            get: "/v1/categories/{id}/books";
        };
        option(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
            summary: "Get Books.";
            description: "Returns all books in a particular category in the book store.";
            tags: "Books.";
        };
    } 

    rpc GetBook(GetBookRequest) returns (GetBookResponse) {
        option(google.api.http) = {
            get: "/v1/categories/{c_id}/books/{id}";
        };
        option(grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
            summary: "Get Books.";
            description: "Returns all books in a particular category in the book store.";
            tags: "Books.";
        };
    } 
}